#!/usr/bin/env python3
# -*- coding: utf-8 -*-
from .. import TestUnitBase


class TestLZO(TestUnitBase):

    def test_decompress_edgar(self):
        unit = self.load()
        data = bytes.fromhex(
            '894C5A4F000D0A1A0A104020A00940010503000001000081FF61C499AA000000000965646761722E'
            '747874816508E60000045000000334BAF1703E00284F6E63652075706F6E2061206D69646E696768'
            '74206472656172792C207768696C65204920706F6E64657265642C207765616B20616E6420776564'
            '0400030D0A4F766572206D616E79206120717561696E742078030018637572696F757320766F6C75'
            '6D65206F6620666F72676F7474656E206C6F7265202D200D0A2020202057C80C001E6E6F64646564'
            '2C206E6561726C79206E617070696E672C2073756464656E6C792074686572652063616D65206120'
            '7461B803010D0A4173720B736F700C086E652067656E746C792072F807C001000A206174206D7920'
            '6368616D62657220646F6F722E0D0A2227546973208C070E76697369746F722C222049206D757474'
            '65951D22DC0C31F80027010320C1004FB21469739C1F0E6E6F7468696E67206D6F72652E220D0A0D'
            '901D0841682C2064697374696E63741403492072656D6584120669742077617320696E7F1C20626C'
            '7B2C446563900300053B0D0A416E642065616368207365706172617465206479780B9C0302207772'
            '6F757836076974732067686F737420803A0374686520666CA81D701401456167656C2B0549207769'
            '73686564880D0A6D6F72726F773B202D2076616968180449206861642073A40A01746F20628004BC'
            '170146726F6D7C280A626F6F6B732073757263656173953B739704202D20C301666F72990B6C7711'
            '4C656EE93E46DC0201726172658025000172616469616E74206D616964656E2077686F6D80070561'
            '6E67656C73206E7C3D29FC007C18EC00064E616D656C657373208443640E0165766572842E27C105'
            '6EB41C000A73696C6B656E2C207361642C20756E6365727461696E20727573746C7E286F66B82B06'
            '707572706C652063759C03090D0A546872696C6C6564206D655666272C000006776974682066616E'
            '74617374696320746572726F7273206E60100A2066656C74206265666F72653BBC260003536F2074'
            '686174206E6F772C20746F207374696C6C981C0162656174C01000036D792068656172742C204920'
            '73746F6F6420726570B803B40830B80A0220656E7472A804880101616E636536AD0A5369646C6847'
            'CC5D84062001F0006843BC0FFC2E0554686973206974202AA80B066E67206D6F72652E2211000000'
            '000000'
        )
        self.assertIn(
            b"And each separate dying ember wrought its ghost upon the floor.",
            bytes(data | unit)
        )
