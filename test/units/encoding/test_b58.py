#!/usr/bin/env python3
# -*- coding: utf-8 -*-
from .. import TestUnitBase


class TestBase58(TestUnitBase):

    def test_bitcoin_address(self):
        unit = self.load(reverse=True)
        data = bytes.fromhex('00f54a5851e9372b87810a8e60cdd2e7cfd80b6e31c7f18fe8')
        self.assertEqual(data | unit | bytes, B'1PMycacnJaSqwwJqjawXBErnLsZ7RkXUAs')

    def test_regression_01(self):
        data = bytes.fromhex(
            'fa314693343bf84beb9c1ac01f8e90ac40d94abe9d365c958405de20307f9b691aa64ce2759076785ce90286ba731362eee0'
            '5e8a687fa12117a5460d3d9eee7f2bf6b22e8ca1c7ef47038c64f25448edbfab6bf73614c577c238b16a0ca9045cfdc5bb86'
            '06606742ece4641ed419eb5a253ee4b5a052852bba21aa1b226d7a436ec8b7ef49a899756ce54fe98520e50a28206107fff0'
            'dcd2f2e1c0a954bb62e33d051c0b914a0347bb56e09a73f4f4786945ab4290c37ab5a176af2fb8ce617128f2df9ab42aa9ae'
            'f33679fc7d63be3e2b7668d09cfc9e181a9e4ff273acd7766c64af57fc4573fe1bdea5dba1ff7c03a4797f0b9ed4d54e6402'
            '5f9f33ccd210b225970c34b4c4601ee101fb186f231a9408767a0016add35c3ef81801784a724965a65de53c79e8a8a88f5a'
            '0c239c36d565d0c1076431173f7b0a416387294afa0f10af502909ecb86b14a3ceae026bd632a3bbe9f38f0e510e3be7f224'
            '5614cf4f2c863a35fd1950b983062ef2fa41b4745b71bba1f42a856c8ada67684227305c318ecc20b9f3bfc10c17b0a3bb53'
            '7db4baebe3ebe8fad538e7fceea7740afd41177a8b1652b3830223ebd4451a96a1ad82e599cb66b422542973710ea648a738'
            'f8b41ec2878450f22f3b7701d2c5b673a8c9ada683e205f9e2e2d2fc9f275298ee7ddf977dda611536f9b971bc2c7c619cd6'
            '99b7ef1a1501cb55670841b814710b49d14c365686d0e76bfe8c752eb31beaca877ac9a35af287a8d1bcfab38aff7b9cf7b2'
            '7d2afeb106d3abb3422108784e458f52f3a89afb08118b7fcbfe034dcc14b68bbbb83f8fa1ba588992241c544bbb95790267'
            '25494df4bda386dce46bb3eb828a9fa1a0a4663382b1f786fd00d96698eb5eb88bd0387fb2a6c2dc958d54272802b95fa2bd'
            '82150c125d7a2f03434c98d7b40f17fb9ac97a76aa5db2d1884fb9815ee972175102ac602f01ef7c944078fb8ecfefc0ff16'
            '1f1fae6110c76e02fcb17fddd4ca8713e697f190cd6a9d5868910523d4a1866089eccb66da9e0f602184611824b27b17bb0b'
            'c05c7d913d15d4dd21bb31128b33e083f11542ef4c9bb4634069d4e487985cd0f66384a1ed9672899a6df19beb629b8ab628'
            '63a6f1c53301222d74f5241bf52d3ee2d55b56786aaf7c0778c7735a0d46ed574b6c26b7a6657639f1fbcdabb301b38e1683'
            '995798ae5b0ab46f08247c36971849aa10bfd7bfc1f565773d5d6bf9841dff3ecfccfc123f4c70b1f7736f4b7f8a7b80d858'
            '201a0a54447ebc0e9a5c11094a7c9c16ca31493643e55fc4b7204a799ca8ebad4b9243e22029c3fac9b1fb5e6b8c07ab8b64'
            'c37e8a819db928851e09ff2de96d2c0b1f46db265b3ae0b13be5760866e9ae023d0ff8b40fe83504c64d085658884692bbac'
            '3b32e3aa5e96ed36351faf2cda055992d90401588826e4888cba4306424579e4c0fa7678a31e50fa4cc62734137a11c02a36'
            '370a710ccf76546ef2a857f987bdb7f73d4f2296ea5269ffd5ce0dff99c6e9d6333b56524faff7d6ec3011873561a0a35cf2'
            '8ce703558e6c359445761e0a95e312b266f6d3b55d92f5764c036bed7d7d7d7c76e906b858c13759a15c79ff4c626b50e78c'
            '7f0c6a95cd6835e8cc5d9223f01269eb37739e57740b22aab36b264055c52a6bb4b4aad98d1afd6911d255779b8790a4a413'
            'c284ee80a864690c9649f6ce8466ed6e2f8cb4c3410e3f0e8ab91b0d3e3eb2c652e60e50e8ceaa9c18216b961ffbb6c27905'
            '10bd5882e2610e103b74979971d2e496308271b82ee5fb622e744447b77e'
        )
        unit = self.load()
        self.assertEqual(data | -unit | unit | bytes, data)
